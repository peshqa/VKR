# Введение

С момента появления первых ЭВМ одним из наиболее важных вопросов развития компьютерной техники был процесс взаимодействия человека с машиной. Долгое время это было доступно только узким специалистам – технологи «общались» с машиной через посредника – программиста. Такая ситуация просуществовала вплоть до появления диалогового интерфейса, когда пользователь смог лично вводить с клавиатуры адресованную машине команду и получать осмысленный ответ. Появление графического интерфейса, при котором отпала необходимость в знании человеком каких-либо команд, привела к повсеместному распространению персональных компьютеров.
Однако человек всегда стремился к более универсальному и естественному способу взаимодействия с ЭВМ. Еще в эпоху перфокарт в научно-фантастических романах человек разговаривал с компьютером, как с равным себе. Тогда же были предприняты первые шаги по реализации речевого интерфейса.
Речевое человеко-машинное взаимодействие является одним из наиболее актуальных направлений развития в области информационных технологий, способное вывести на новый уровень удобство взаимодействия человека с информационными системами.
Актуальность выбранного направления исследований подтверждается прогнозами ведущих ИТ экспертов, в соответствии с которыми естественные интерфейсы человеко-машинного взаимодействия являются одними из наиболее актуальных технологических инноваций.
Целью курсового проекта является анализ процесса синтеза речи и ряда особенностей его автоматизации.
Основными задачами курсового проекта являются:
-	описание процесса синтеза речи;
-	формализация процесса синтеза речи в нотации IDEF0;
-	сбор требований к будущей системе;
-	анализ аналогичных разработок;
-	описание функциональных возможностей будущей системы.

# 1 Описание процесса

Искусственное создание человеческой речи издавна интересовало ученых и практических исследователей. Задачи, стоящие перед синтезаторами речи, с течением времени претерпевали существенные изменения. Синтез речи эволюционировал от простого получения речеподобных звуков и озвучивания ограниченного набора фраз до озвучивания произвольного текста с нужным интонационным оформлением и эмоциональной окраской, причем голосом, точно имитирующим речь определённого человека. 
Преобразование текста в звук используется во многих сферах деятельности, начиная от программирования и заканчивая озвучиванием книг. Самостоятельно записывать звук, читая его с текста – слишком затратный по времени процесс. В таких ситуациях на помощь приходит синтезатор речи, который преобразует текстовую информацию в звуковую.
Распознавание речи используется различными отраслями бизнеса, науки, медицины. Например, посредством этой технологии, люди с ограничениями здоровья могут управлять своим домом при помощи речи, или же диктовать тексты электронных сообщений, sms.
Бизнесу распознавание речи тоже необходимо для разных целей, но одна из главных — это коммуникация с клиентами при помощи телефонных роботов, ботов. Это очень востребованная технология, которая позволяет сэкономить деньги, используя для выполнения рутинных задач машины, а не людей.
Работа со звуковой информацией актуальна в устройствах и приложениях «умного дома», в том числе различных голосовых ассистентах, так как человеку намного удобнее принимать информацию в форме речи в любом месте своего дома, чем постоянно смотреть текст или видео на экране. Или же, в процессе вождения средства передвижения человеку нужны обе руки для вождения, и он не может отвлекаться на прочие устройства, например, навигатор. В данной ситуации, используя голосовой ассистент, водитель может просто сказать, какой маршрут ему нужно построить.
Синтез речи — это создание звука на основе текста. Эту задачу сегодня решают двумя подходами.
Unit selection, или конкатенативный подход. Он основан на склейке фрагментов записанного аудио. С конца 90-х долгое время он считался де-факто стандартом для разработки движков синтеза речи. Например, голос, звучащий по методу unit selection, можно было встретить в Siri. В настоящее время данный подход не является актуальным. Преимуществом данного подхода является достаточно высокое качество синтезированной речи, а к ее недостаткам можно отнести высокую стоимость разработки и эксплуатации, необходимость в высококвалифицированных специалистах в области лингвистики и фонетики, высокие требования к объему базы данных и зависимость эмоциональной окраски синтезированной речи от тональности речевого корпуса.
Параметрический синтез речи, суть которого состоит в построении вероятностной модели, предсказывающей акустические свойства аудиосигнала для данного текста. Методы параметрического синтеза речи, основанные на нейросетях, на текущий момент существенно превосходят подход unit selection и гораздо проще для разработки. Преимуществом параметрического подхода является гибкость, требуемые относительно небольшие вычислительные ресурсы. Благодаря гибкости подхода становится проще управлять интонационными характеристиками синтезируемой речи.
Большинство браузеров предлагает свои варианты синтезаторов на основе параметрического подхода. Примерами служат голосовые помощники, такие как «Алиса» от «Яндекса» или «Гугл Ассистент». Они позволяют преобразовывать человеческую речь в текст и отвечают на запросы пользователей удобным способом.
Одной из проблем большинства бесплатных сервисов является отсутствие выбора голоса для озвучивания. В данной работе будет реализована возможность записать свой голос, который в дальнейшем можно будет использовать для синтеза речи.
Искусственный интеллект в настоящее время умеет выполнять множество полезных для человека функций. Разработанный синтезатор можно применить в самых различных сферах.
Используя синтез речи, человек может значительно увеличить свою производительность, например, в случае управления устройств «умного дома», или как в описанном ранее примере с водителем.
В работе колл-центра синтез речи позволяет автоматизировать обслуживание заявок клиентов и, таким образом, уменьшить количество сотрудников и сэкономить средства на выплату зарплат.

# 2 Формализация исследуемого процесса в нотации IDEF0

Рассмотрим процесс синтеза речи при помощи диаграммы IDEF0. Данная диаграмма позволяет подробно рассмотреть последовательность работ и отношения между ними. Контекстная диаграмма изображена на рисунке 1.
*рисунок Контекстная диаграмма IDEF0*
На контекстной диаграмме можно увидеть рассматриваемый процесс «Синтез речи», который получает на входе вводимый пользователем текст и выдает синтезированную речь. Весь процесс синтеза речи протекает внутри приложения без вмешательства пользователя. На результат процесса влияют особенности языка, на котором будет синтезироваться речь, например, написание слов, ударения в словах, сокращения и др. Также на качество синтеза оказывает влияние речевая база данных, в которой хранятся фрагменты записей человеческой речи и соответствующие им фонемы. Чем больше сделано записей человеческой речи и чем больше речевая база данных, тем более естественно будет звучать синтезированная речь.
Рассмотрим детализацию процесса «Синтез речи», которая изображена на рисунке 2.
*рисунок Уровень A0 диаграммы IDEF0*
Процесс синтеза речи состоит из трех процессов: «Обработка текста», «Подбор звуковых элементов» и «Постобработка». Сперва, текст должен быть обработан и переведен в транскрипцию. Далее происходит процесс синтеза. Записи из обучающих данных нарезаются на кусочки по фонемной разметке, которые образуют аллофонную базу. Каждый аллофон характеризуется набором параметров, таких как контекст, высота основного тона, длительность и прочие. Сам процесс синтеза представляет собой подбор правильной последовательности аллофонов, наиболее подходящих в текущих условиях. Для получившейся записи речи иногда нужна постобработка, специальные фильтры, делающие синтезируемую речь чуть ближе к человеческой или исправляющие какие-нибудь дефекты.
Рассмотрим детализацию процесса «Обработка текста», которая изображена на рисунке 3. Обработка текста начинается с нормализации текста, где все небуквенные символы, например, цифры или знаки валют, переводятся в словесное представление, а сокращения заменяются полными словами. Далее, в тексте расставляются паузы и ударения в соответствии с правилами языка, на котором синтезируется речь. Определяются интонации в тексте, такие как выражение завершенности предложения, восклицания или вопроса. Последний этап – перевод текста с расставленными паузами и ударениями в транскрипцию, звуковое представление исходного текста.
*рисунок Уровень A1 диаграммы IDEF0*

# 3 Сбор требований к будущей системе

На основе интервью с экспертом из преподавательского состава ВУЗа и на основе опыта подобных систем, такие как голосовые технологии Tinkoff, Yandex SpeechKit; были собраны следующие функциональные требования:
-	приложение должно иметь возможность преобразовывать текст в речь;
-	приложение должно иметь возможность записи голоса пользователя для дальнейшего синтеза;
-	приложение должно иметь возможность сохранения полученной речи в аудиофайл;
-	пользователь должен иметь возможность ввода текста, который будет использоваться для синтеза;
-	пользователь должен иметь возможность обозначить ударения и паузы в вводимом тексте;
-	пользователь должен иметь возможность выбора, какой из доступных голосов будет использоваться для синтеза.
Также были собраны нефункциональные требования:
-	для синтеза речи должна использоваться параметрическая модель;
-	синтезированная речь должна иметь частоту дискретизации не менее 8kHz;
-	приложение должно работать на мобильных устройствах Android версии 7.0 или выше.

# 4 Анализ аналогичных разработок

Прежде чем провести анализ аналогичных разработок, нужно определить параметры, по которым будет проводиться сравнение. В качестве параметров для сравнения были выбраны:
--	возможность выбора голоса для синтеза;
--	возможность записи своего голоса для синтеза;
--	возможность обозначить ударения и паузы во вводимом тексте.
Рассмотрим наиболее популярные аналоги, которые используют параметрическую модель синтеза речи на русском языке.
Голосовые технологии Tinkoff — это глубокие нейросетевые модели для синтеза и распознавания речи, которые в течение последних лет разрабатывались в Тинькофф. Разработка собственной технологии синтеза речи началась в Тинькофф в 2018 году на основе таких нейросетевых моделей, как WaveNet, Tacotron-2, Deep Voice.
Yandex SpeechKit — технология распознавания речи и синтеза речи от компании Яндекс. Она используется как в сервисах Яндекса — например, Навигаторе, — так и в продуктах сторонних разработчиков.  В Yandex SpeechKit для синтеза речи используется система на базе скрытых марковских моделей. Акустическая модель принимает на вход последовательность фонем и выдаёт на выходе соответствующий им звук. Это позволяет добиться плавных интонаций, гибко управлять скоростью речи и даже придавать ей те или иные эмоции.
AiMyVoice - недавно созданный сервис синтеза речи, который позволяет озвучить текст различными голосами высокого качества. Рабочий проект выполнен в образе диалога. Каждую реплику можно озвучивать различными голосами. Например, такой функционал отлично подойдет новостным изданиям, публикующих интервью в текстовом формате, или сервис отлично подходит для озвучки книг. Для получения максимально качественной озвучки есть возможность сделать разметку текста, задать паузы, ударения, громкость и темп речи и др.
*Таблица 1 – Результат сравнения популярных синтезаторов речи*
	Голосовые технологии Tinkoff	Yandex SpeechKit	AiMyVoice	Наш проект
Возможность выбора голоса для синтеза	Есть (2 голоса)	Есть (7 голосов)	Есть (9 голосов)	Есть
Возможность записи своего голоса для синтеза	Нет	Нет	Нет	Есть
Возможность обозначить ударения и паузы во вводимом тексте	Нет	Есть	Есть	Есть

Итак, основным преимуществом нашего проекта над рассмотренными аналогами заключается в возможности записи голоса пользователя, который можно будет использовать для озвучки текста.
Разрабатываемая программа должна иметь возможность записывать голос пользователя для синтеза речи. Учитывая функциональные возможности аналогов, пользователь должен иметь возможность выбрать один из записанных голосов, ввести текст, указать в тексте ударения и паузы и озвучить введенный текст при помощи выбранного голоса. 

# 5 Функциональные возможности будущей системы

Диаграмма вариантов использования является исходной концептуальной моделью системы в процессе ее проектирования и разработки. Она позволяет определить общие границы и контекст моделируемой предметной области на начальных этапах проектирования системы.
Диаграмма вариантов использования изображена на рисунке 4.
*Функциональные возможности системы*
На диаграмме можно увидеть одно действующее лицо – пользователь.
Вариант использования «Создать образ голоса» описывает возможность пользователя создать новый образ голоса, который можно будет использовать для синтеза голоса. В данный вариант использования входят другие варианты – «Записать или загрузить речь», описывающий возможность пользователя записать свой голос или загрузить аудио файл с речью, и «Сохранить полученный образ», описывающий возможность сохранить полученный образ на устройство.
Вариант использования «Выбрать существующий образ голоса» описывает возможность пользователя выбрать один из записанных образов. После выбора образа, пользователю доступны два других варианта использования: «Удалить выбранный образ», описывающий возможность безвозвратно удалить образ с устройства, и «Синтезировать речь», описывающий возможность синтеза речи при помощи выбранного голоса.
Синтез речи обязательно включает в себя следующие варианты использования: «Загрузить выбранный образ», описывающий возможность загрузки сохраненного на устройстве образа голоса, «Ввести произносимый текст», описывающий возможность ввода пользователем текста для синтеза, и «Создать аудио запись», описывающий возможность создания аудио записи из введенного пользователем текста.
Вариант использования «Сохранить аудио запись как файл» описывает возможность сохранения полученной в результате синтеза аудио записи на устройстве в виде файла.
Вариант использования «Воспроизвести аудио» описывает возможность» воспроизведения полученной в результате синтеза аудио записи.

# Заключение
В данном курсовом проекте был проведен анализ процесса синтеза речи и ряда особенностей его автоматизации, а также были выполнены следующие задачи:
-	описание процесса синтеза речи;
-	формализация процесса синтеза речи в нотации IDEF0;
-	сбор требований к будущей системе;
-	анализ аналогичных разработок;
-	описание функциональных возможностей будущей системы.
